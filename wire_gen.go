// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package main

import (
	"feedback/config"
	"feedback/controller"
	"feedback/middleware"
	"feedback/pkg/feishu"
	"feedback/pkg/ijwt"
	"feedback/pkg/logger"
	"feedback/service"
	"feedback/web"
)

// Injectors from wire.go:

func InitApp() *App {
	middlewareConfig := config.NewMiddlewareConfig()
	corsMiddleware := middleware.NewCorsMiddleware(middlewareConfig)
	jwtConfig := config.NewJWTConfig()
	jwt := ijwt.NewJWT(jwtConfig)
	authMiddleware := middleware.NewAuthMiddleware(jwt)
	clientConfig := config.NewClientConfig()
	client := feishu.NewClient(clientConfig)
	zapLogger := logger.NewZapLogger()
	authService := service.NewOauth(clientConfig)
	appTable := config.NewAppTable()
	batchNoticeConfig := config.NewBatchNoticeConfig()
	sheet := controller.NewSheet(client, zapLogger, authService, appTable, batchNoticeConfig)
	oauth := controller.NewOauth(clientConfig, jwt, authService, appTable)
	engine := web.NewGinEngine(corsMiddleware, authMiddleware, sheet, oauth)
	app := &App{
		r: engine,
	}
	return app
}
